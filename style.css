/* === Базовые === */
:root{
  --bg:#0d0d2b;
  --card: rgba(20,20,40,0.95);
  --accent1:#ff4d6d;
  --accent2:#7928ca;
  --muted: rgba(255,255,255,0.85);
}
*{box-sizing:border-box}
body{
  font-family: Inter, "Segoe UI", Tahoma, sans-serif;
  background: radial-gradient(circle at top,var(--bg),#000 85%);
  color:var(--muted);
  margin:0;padding:20px;
  display:flex;justify-content:center;
}

/* container */
.container{
  width:100%;max-width:1100px;background:var(--card);
  border-radius:14px;padding:18px;box-shadow:0 10px 40px rgba(0,0,0,0.6);
}

/* header */
.topbar{display:flex;flex-direction:column;gap:12px}
.topbar h1{margin:0;text-align:center;color:var(--accent1);text-shadow:0 0 12px rgba(255,50,120,0.2)}
.controls-top{display:flex;justify-content:space-between;gap:12px;align-items:center;flex-wrap:wrap}

/* month controls + filters */
.month-control{display:flex;align-items:center;gap:8px}
.month-control input[type="month"]{background:rgba(255,255,255,0.06);border:none;padding:8px;border-radius:8px;color:#fff}
.month-control button{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#fff;padding:6px 8px;border-radius:8px;cursor:pointer}
.filters{display:flex;gap:8px;align-items:center}
#searchInput{padding:8px 10px;border-radius:10px;border:none;background:rgba(255,255,255,0.06);color:#fff;min-width:180px}
#sortSelect{padding:8px;border-radius:10px;border:none;background:rgba(255,255,255,0.06);color:#fff}

/* main grid */
.grid{display:grid;grid-template-columns:1fr 360px;gap:18px;margin-top:12px}
.left-col{display:flex;flex-direction:column;gap:12px}
.right-col{display:flex;flex-direction:column;gap:12px}

/* stats card */
.stats{background:rgba(28,28,48,0.9);padding:12px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.5)}
.stats h3{margin:0 0 8px 0;color:#ffd1f7;text-align:center}

/* entry form */
.entry-form{display:flex;gap:8px;flex-wrap:wrap}
.entry-form input, .entry-form select{padding:10px;border-radius:10px;border:none;background:rgba(255,255,255,0.05);color:#fff;flex:1;min-width:120px}
.entry-form button{padding:10px 16px;border-radius:10px;border:none;background:linear-gradient(45deg,var(--accent1),#ff9800);color:#fff;font-weight:600;cursor:pointer}
.entry-form button:hover{transform:scale(1.02)}

/* categories */
.category-manage .category-row{display:flex;gap:8px}
.categories-list{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
.cat-pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.03);font-size:13px}
.cat-color{width:14px;height:14px;border-radius:4px;box-shadow:0 0 6px rgba(0,0,0,0.3)}
.cat-actions button{margin-left:6px;border:none;background:transparent;color:#fff;cursor:pointer}

/* entries list */
.entries-list{display:flex;flex-direction:column;gap:10px;max-height:420px;overflow:auto;padding:6px}
.entry-item{display:flex;justify-content:space-between;gap:12px;align-items:center;padding:10px;border-radius:10px;background:rgba(255,255,255,0.02)}
.entry-left{display:flex;gap:10px;align-items:center}
.entry-meta{font-size:13px;opacity:0.9}
.entry-amount{font-weight:700}
.entry-amount.expense{color:#ff8a80}
.entry-amount.income{color:#80e27e}

/* actions row */
.actions-row{display:flex;gap:8px;justify-content:space-between;margin-top:10px}
.actions-row button{padding:8px 12px;border-radius:10px;border:none;background:linear-gradient(45deg,var(--accent2),#2afadf);color:#fff;cursor:pointer}
.actions-row button.danger{background:linear-gradient(45deg,#ff5e5e,#e53935)}

/* summary */
.summary p{margin:8px 0;font-size:15px}
.progress-container{background:rgba(255,255,255,0.06);height:10px;border-radius:8px;overflow:hidden}
.progress-bar{height:100%;width:0%;background:linear-gradient(90deg,var(--accent1),var(--accent2));transition:width .6s ease}

/* footer */
.footer{margin-top:18px;text-align:center;color:rgba(255,255,255,0.6);font-size:13px}

/* responsive */
@media (max-width:980px){
  .grid{grid-template-columns:1fr}
  .right-col{order:2}
  .left-col{order:1}
}
@media (max-width:560px){
  .controls-top{flex-direction:column;align-items:stretch}
  #searchInput{min-width:unset;width:100%}
}

/* === Исправление для выпадающих списков (опции) в темной теме === */

/* Устанавливаем базовые темные стили для всех элементов select и option */
select, select option {
  /* Темный фон, чтобы соответствовать теме */
  background-color: #1a1a3a !important; 
  /* Светлый текст */
  color: #fff !important;
}

/* * Это попытка изменить цвет выделения (hover/selected) внутри 
* выпадающего списка. Работает только в Firefox, но стоит попробовать.
*/
select option:checked,
select option:hover {
  /* Более светлый фон при наведении/выделении для контраста */
  background-color: rgba(255, 255, 255, 0.1) !important;
  color: #fff !important;
}

/* === Исправление для блока "Новая категория" (текстовое поле и палитра) === */

/* 1. Стиль для текстового поля ввода имени категории (темный фон, светлый текст) */
.category-manage .category-row input:not([type="color"]) { 
  padding: 10px;
  border-radius: 10px;
  border: none;
  background: rgba(255, 255, 255, 0.05); /* Темный фон */
  color: #fff; /* Светлый текст */
}

/* 2. Стиль для палитры цвета (убираем лишний padding, чтобы не искажать квадрат) */
.category-manage .category-row input[type="color"] {
  /* Убираем большой padding, который портил вид */
  padding: 3px; 
  /* Задаем минимальный темный бордер/рамку */
  border: 1px solid rgba(255, 255, 255, 0.2); 
  border-radius: 6px;
  background: transparent;
  width: 40px; /* Можно задать явный размер для лучшего контроля */
  height: 40px;
}

/* Стили для кнопки "Добавить" */
.category-manage .category-row button {
  padding: 10px 16px;
  border-radius: 10px;
  border: none;
  background: linear-gradient(45deg, var(--accent1), #ff9800);
  color: #fff;
  font-weight: 600;
  cursor: pointer;
  white-space: nowrap;
}

/* === Исправление выпадающих списков (select/option) === */
/* Оставьте этот блок для лучшей стилизации опций (работает не во всех браузерах) */
select, select option {
  background-color: #1a1a3a !important;
  color: #fff !important;
}